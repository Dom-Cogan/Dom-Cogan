import{a8 as _,q as l,h as i,u,i as m,a0 as a,e as h,a9 as n,a7 as s,Q as I}from"./q-Bb4ORUjr.js";import{l as b,c as f,u as w}from"./q-CyPARc0_.js";const S=_(l(()=>i(()=>import("./q-BNLqso4l.js"),[]),"s_28Bc2y8kZns")),p=async()=>{const[o]=u();o.loading=!0,o.error=null;try{const e=localStorage.getItem("blogId");if(!e)throw new Error("Blog ID is missing from local storage.");const t=(await b()).documents.find(g=>g.$id===e),r=await f();console.log(`New section created with ID: ${r}`);const d=Array.from(new Set([...(t==null?void 0:t.Pagesections)||[],r]));await w(e,d),console.log(`Blog document updated with new section ID: ${r}`),window.location.reload()}catch(e){console.error("Error handling button click:",e),o.error=e.message}finally{o.loading=!1}},x=Object.freeze(Object.defineProperty({__proto__:null,_hW:I,s_rirPh8rrIHI:p},Symbol.toStringTag,{value:"Module"})),k=o=>{const e=m({loading:!1,error:null});return a("div",null,{class:"m-1"},[h(S,{get text(){return e.loading?"Creating Section...":o.text},onClick:l(()=>i(()=>Promise.resolve().then(()=>x),void 0),"s_rirPh8rrIHI",[e]),get disabled(){return o.disabled||e.loading},[n]:{text:s((t,r)=>r.loading?"Creating Section...":t.text,[o,e]),onClick:n,disabled:s((t,r)=>t.disabled||r.loading,[o,e])}},3,"d1_0"),e.error&&a("p",null,{class:"error-message"},s(t=>t.error,[e]),3,"d1_1"),"_"],1,"d1_2")};export{S as C,I as _hW,k as s,p as s_rirPh8rrIHI};
