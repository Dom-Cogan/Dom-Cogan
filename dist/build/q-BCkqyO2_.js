import{a8 as m,q as i,h as d,u as b,i as f,a0 as s,e as h,a9 as a,a7 as l,Q as I}from"./q-BVY6h6Ee.js";import{l as c,c as w,u as p}from"./q-BTYUWz0k.js";const S=m(i(()=>d(()=>import("./q-DLfRZJgD.js"),[]),"s_28Bc2y8kZns")),x=async()=>{const[e]=b();e.loading=!0,e.error=null;try{const o=localStorage.getItem("blogId");if(!o)throw new Error("Blog ID is missing from local storage.");const t=(await c()).documents.find(r=>r.$id===o);if(!t)throw new Error("Blog document not found.");const n=await w();console.log(`New section created with ID: ${n}`);const u=Array.from(new Set([...t.Pagesections,n]));await p(o,u),console.log(`Blog document updated with new section ID: ${n}`);const _=await c();e.blogDoc=_.documents.find(r=>r.$id===o)||null,console.log("Updated blog document:",e.blogDoc)}catch(o){console.error("Error handling button click:",o),e.error=o.message||"An unknown error occurred."}finally{e.loading=!1}},D=Object.freeze(Object.defineProperty({__proto__:null,_hW:I,s_rirPh8rrIHI:x},Symbol.toStringTag,{value:"Module"})),C=e=>{const o=f({loading:!1,error:null,blogDoc:null});return s("div",null,{class:"m-1"},[h(S,{get text(){return o.loading?"Creating Section...":e.text},onClick:i(()=>d(()=>Promise.resolve().then(()=>D),void 0),"s_rirPh8rrIHI",[o]),get disabled(){return e.disabled||o.loading},[a]:{text:l((t,n)=>n.loading?"Creating Section...":t.text,[e,o]),onClick:a,disabled:l((t,n)=>t.disabled||n.loading,[e,o])}},3,"d1_0"),o.error&&s("div",null,{class:"text-red-500"},l(t=>t.error,[o]),3,"d1_1")," "],1,"d1_2")};export{S as C,I as _hW,C as s,x as s_rirPh8rrIHI};
