import{a8 as g,q as s,h as l,u as _,i as u,a0 as m,e as f,a9 as a,a7 as r,Q as h}from"./q-0e2vnDHq.js";import{l as I,c as w,u as b}from"./q-D9957jX5.js";const S=g(s(()=>l(()=>import("./q-DqZ0_Q80.js"),[]),"s_28Bc2y8kZns")),p=async()=>{const[o]=_();o.loading=!0,o.error=null;try{const e=localStorage.getItem("blogId");if(!e)throw new Error("Blog ID is missing from local storage.");const t=(await I()).documents.find(d=>d.$id===e),n=await w();console.log(`New section created with ID: ${n}`);const c=Array.from(new Set([...(t==null?void 0:t.Pagesections)||[],n]));await b(e,c),console.log(`Blog document updated with new section ID: ${n}`),typeof window<"u"&&window.location.reload()}catch(e){console.error("Error handling button click:",e),o.error=e.message}finally{o.loading=!1}},x=Object.freeze(Object.defineProperty({__proto__:null,_hW:h,s_rirPh8rrIHI:p},Symbol.toStringTag,{value:"Module"})),P=o=>{const e=u({loading:!1,error:null});return m("div",null,{class:"m-1"},[f(S,{get text(){return e.loading?"Creating Section...":o.text},onClick:s(()=>l(()=>Promise.resolve().then(()=>x),void 0),"s_rirPh8rrIHI",[e]),get disabled(){return o.disabled||e.loading},[a]:{text:r((t,n)=>n.loading?"Creating Section...":t.text,[o,e]),onClick:a,disabled:r((t,n)=>t.disabled||n.loading,[o,e])}},3,"d1_0"),"_"],1,"d1_1")};export{S as C,h as _hW,P as s,p as s_rirPh8rrIHI};
