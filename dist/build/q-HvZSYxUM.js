import{a8 as g,q as s,h as l,u as _,i as u,a0 as m,e as h,a9 as a,a7 as r,Q as I}from"./q-C05e7ubV.js";import{l as b,c as f,u as w}from"./q-qksZjNZt.js";const S=g(s(()=>l(()=>import("./q-r45QWeeU.js"),[]),"s_28Bc2y8kZns")),p=async()=>{const[o]=_();o.loading=!0,o.error=null;try{const e=localStorage.getItem("blogId");if(!e)throw new Error("Blog ID is missing from local storage.");const t=(await b()).documents.find(d=>d.$id===e),n=await f();console.log(`New section created with ID: ${n}`);const c=Array.from(new Set([...(t==null?void 0:t.Pagesections)||[],n]));await w(e,c),console.log(`Blog document updated with new section ID: ${n}`),window.location.reload()}catch(e){console.error("Error handling button click:",e),o.error=e.message}finally{o.loading=!1}},x=Object.freeze(Object.defineProperty({__proto__:null,_hW:I,s_rirPh8rrIHI:p},Symbol.toStringTag,{value:"Module"})),k=o=>{const e=u({loading:!1,error:null});return m("div",null,{class:"m-1"},[h(S,{get text(){return e.loading?"Creating Section...":o.text},onClick:s(()=>l(()=>Promise.resolve().then(()=>x),void 0),"s_rirPh8rrIHI",[e]),get disabled(){return o.disabled||e.loading},[a]:{text:r((t,n)=>n.loading?"Creating Section...":t.text,[o,e]),onClick:a,disabled:r((t,n)=>t.disabled||n.loading,[o,e])}},3,"d1_0"),"_"],1,"d1_1")};export{S as C,I as _hW,k as s,p as s_rirPh8rrIHI};
